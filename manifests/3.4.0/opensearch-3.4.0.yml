---
schema-version: '1.2'
build:
  name: OpenSearch
  version: 3.4.0
ci:
  image:
    linux:
      tar:
        name: opensearchstaging/ci-runner:ci-runner-al2-opensearch-build-v1
        args: -e JAVA_HOME=/opt/java/openjdk-25
      deb:
        name: opensearchstaging/ci-runner:ci-runner-ubuntu2404-opensearch-build-v1
        args: -e JAVA_HOME=/opt/java/openjdk-25
      rpm:
        name: opensearchstaging/ci-runner:ci-runner-almalinux8-opensearch-build-v1
        args: -e JAVA_HOME=/opt/java/openjdk-25
    windows:
      zip:
        name: opensearchstaging/ci-runner:ci-runner-windows2019-opensearch-build-v1
        args: -e JAVA_HOME=/opt/java/openjdk-25
components:
  - name: OpenSearch
    repository: https://github.com/opensearch-project/OpenSearch.git
    ref: 00336141f90b2456d7aa35e9052fd6baf7147423
  - name: common-utils
    repository: https://github.com/opensearch-project/common-utils.git
    ref: a03a433f8e40a6a7828a8be06fec9892eff934b1
    platforms:
      - linux
      - windows
  - name: opensearch-learning-to-rank-base
    repository: https://github.com/opensearch-project/opensearch-learning-to-rank-base.git
    ref: 3ce0630dc3cdf4b8569f35e768f5ca263b633a9b
    platforms:
      - linux
      - windows
  - name: opensearch-remote-metadata-sdk
    repository: https://github.com/opensearch-project/opensearch-remote-metadata-sdk.git
    ref: c5e8503b3b3b7fdfc1b4a1d925351e11d0cd721c
    platforms:
      - linux
      - windows
  - name: job-scheduler
    repository: https://github.com/opensearch-project/job-scheduler.git
    ref: bfc0f7709f587a78b03aaaf5616418c35b1fda5e
    platforms:
      - linux
      - windows
  - name: security
    repository: https://github.com/opensearch-project/security.git
    ref: 837ab5a54817c726b50d14c7275a7920d5503690
    platforms:
      - linux
      - windows
  - name: k-NN
    repository: https://github.com/opensearch-project/k-NN.git
    ref: 88e369808a39669f8c0d0ff2f2aa2d1a487c6901
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: geospatial
    repository: https://github.com/opensearch-project/geospatial.git
    ref: d1c5e1acb56b193429068c2b3f03a84f6ed28a57
    platforms:
      - linux
      - windows
    depends_on:
      - job-scheduler
  - name: cross-cluster-replication
    repository: https://github.com/opensearch-project/cross-cluster-replication.git
    ref: 31ede6fac3e6b1993a890493bca7811b356bc77d
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: ml-commons
    repository: https://github.com/opensearch-project/ml-commons.git
    ref: c05cebc4314b058f2d8117255d9d0270e50667e5
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - job-scheduler
      - opensearch-remote-metadata-sdk
  - name: neural-search
    repository: https://github.com/opensearch-project/neural-search.git
    ref: 6923b994109b1a4f5c207d67937f3797196882a3
    platforms:
      - linux
      - windows
    depends_on:
      - ml-commons
      - k-NN
  - name: notifications-core
    repository: https://github.com/opensearch-project/notifications.git
    ref: b9dd1ea87ec9fcab12d01dac0c33c5c728779b88
    working_directory: notifications
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: notifications
    repository: https://github.com/opensearch-project/notifications.git
    ref: 5ccf2da71eb633d9a1cf67aba002a6056b117995
    working_directory: notifications
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: opensearch-observability
    repository: https://github.com/opensearch-project/observability.git
    ref: eaea8493f90f5d5031cd0d80a5330df3b0908b24
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: opensearch-reports
    repository: https://github.com/opensearch-project/reporting.git
    ref: 23ecdd626b8fcef5d657b2c808f7b131da05ac65
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - job-scheduler
  - name: sql
    repository: https://github.com/opensearch-project/sql.git
    ref: 2940e6b01ac45448611ef56b80d5b1db6678890b
    platforms:
      - linux
      - windows
    depends_on:
      - ml-commons
      - geospatial
  - name: asynchronous-search
    repository: https://github.com/opensearch-project/asynchronous-search.git
    ref: 79fbf800bbcdc73b00cd00a44d5aaf3c3a9945d8
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: anomaly-detection
    repository: https://github.com/opensearch-project/anomaly-detection.git
    ref: 5972db4c67102cdfdd2db305224fcd9a5bab3cdf
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - job-scheduler
  - name: alerting
    repository: https://github.com/opensearch-project/alerting.git
    ref: aaa1033eb69d81bb6beee613827f5f60c80b7d73
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: security-analytics
    repository: https://github.com/opensearch-project/security-analytics.git
    ref: c9e7457eacbed2082f349e53b42ac8fcf4d56442
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - alerting
      - job-scheduler
  - name: index-management
    repository: https://github.com/opensearch-project/index-management.git
    ref: 198dd246b48097c40511fbb528d658a5c5751d7c
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - job-scheduler
  - name: performance-analyzer
    repository: https://github.com/opensearch-project/performance-analyzer.git
    ref: 628d9655ee09d142e2daab85dc1076f67254f9e1
    platforms:
      - linux
  - name: custom-codecs
    repository: https://github.com/opensearch-project/custom-codecs.git
    ref: 9380d8a247ca26f6f9e7403a76c50cb6e2c343e7
    platforms:
      - linux
      - windows
  - name: flow-framework
    repository: https://github.com/opensearch-project/flow-framework.git
    ref: 394946dbf9b405ad958c1011acd61d01566177a5
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - opensearch-remote-metadata-sdk
      - ml-commons
      - k-NN
      - neural-search
  - name: skills
    repository: https://github.com/opensearch-project/skills.git
    ref: 40126c9c8f16dea6a4a946deb90886d58ff162ea
    platforms:
      - linux
      - windows
    depends_on:
      - job-scheduler
      - anomaly-detection
      - sql
      - ml-commons
  - name: query-insights
    repository: https://github.com/opensearch-project/query-insights.git
    ref: f04f4a52597fb736705e64955f18a117ed7ead66
    platforms:
      - linux
      - windows
  - name: opensearch-system-templates
    repository: https://github.com/opensearch-project/opensearch-system-templates.git
    ref: c7dfa6e97c874b9ec8acfe4a881d11ee3dd40386
    platforms:
      - linux
      - windows
  - name: user-behavior-insights
    repository: https://github.com/opensearch-project/user-behavior-insights.git
    ref: 9119d727ba9cafe6b99e79122d90b3476a7dc4b4
    platforms:
      - linux
      - windows
  - name: search-relevance
    repository: https://github.com/opensearch-project/search-relevance.git
    ref: 0289583df516ddd3921a62e343f5bb39c90b1939
    platforms:
      - linux
      - windows
    depends_on:
      - job-scheduler
      - neural-search
      - k-NN
      - ml-commons
      - user-behavior-insights
