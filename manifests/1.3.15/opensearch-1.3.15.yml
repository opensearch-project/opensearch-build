---
schema-version: '1.1'
build:
  name: OpenSearch
  version: 1.3.15
ci:
  image:
    name: opensearchstaging/ci-runner:ci-runner-centos7-opensearch-build-v3
    args: -e JAVA_HOME=/opt/java/openjdk-11
components:
  - name: OpenSearch
    repository: https://github.com/opensearch-project/OpenSearch.git
    ref: f1842d770471ab4a6e496e5b1e14c14478f059f1
    checks:
      - gradle:publish
      - gradle:properties:version
  - name: common-utils
    repository: https://github.com/opensearch-project/common-utils.git
    ref: ede103c546c7cd4843b3c5ef3bc3d66fe1f5496b
    checks:
      - gradle:publish
      - gradle:properties:version
    platforms:
      - linux
      - windows
  - name: job-scheduler
    repository: https://github.com/opensearch-project/job-scheduler.git
    ref: 3134607457f7813a1a38a728e6bdcc838a4e6f89
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
  - name: security
    repository: https://github.com/opensearch-project/security.git
    ref: c2247df2cf6138383ea979acbe6ea3d924ac8c85
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
  - name: ml-commons
    repository: https://github.com/opensearch-project/ml-commons.git
    ref: a405f8ae4f2ce379a518225ec9ab7c2853d78bc0
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version: opensearch-ml-plugin
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: performance-analyzer
    repository: https://github.com/opensearch-project/performance-analyzer.git
    ref: b9bcc1e65709c4fa10c7006c4127f20fc28fa33a
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
  - name: alerting
    repository: https://github.com/opensearch-project/alerting.git
    ref: 59119873187bd7b736a57364a59c55e3aa7ecaec
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version: alerting
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: opensearch-reports
    repository: https://github.com/opensearch-project/reporting.git
    ref: 4546832ed1ad6f4f2c5db2071bba21df4db7900d
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - job-scheduler
  - name: cross-cluster-replication
    repository: https://github.com/opensearch-project/cross-cluster-replication.git
    ref: 696e62410dbb0cc9535ea2b69e51d8c9c30486d5
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: opensearch-observability
    repository: https://github.com/opensearch-project/observability.git
    ref: 4cf584bde061447713206dd42d0840fbc130c1fd
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: anomaly-detection
    repository: https://github.com/opensearch-project/anomaly-detection.git
    ref: a386d3816b5e8fd2550fd1f4bee5c8cf2d12018b
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - job-scheduler
  - name: asynchronous-search
    repository: https://github.com/opensearch-project/asynchronous-search.git
    ref: a4c5b5d6fdab6fc788f7ccab2336ae67968d6327
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
  - name: k-NN
    repository: https://github.com/opensearch-project/k-NN.git
    ref: 51d257ec70bfcf25768d7751602c863194bd956f
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
  - name: sql
    repository: https://github.com/opensearch-project/sql.git
    ref: 5c4590dc62e2abcb68e2f54e19d739f22b64f3e3
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version: plugin
    platforms:
      - linux
      - windows
    depends_on:
      - ml-commons
  - name: index-management
    repository: https://github.com/opensearch-project/index-management.git
    ref: 5c77be0de071bc00a60b26b59040dc1e93227548
    checks:
      - gradle:properties:version
      - gradle:dependencies:opensearch.version
    platforms:
      - linux
      - windows
    depends_on:
      - common-utils
      - job-scheduler
