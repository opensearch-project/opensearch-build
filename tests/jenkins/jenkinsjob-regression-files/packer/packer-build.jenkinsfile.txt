   packer-build.run()
      packer-build.modernSCM({$class=GitSCMSource, remote=https://github.com/opensearch-project/opensearch-build-libraries.git})
      packer-build.library({identifier=jenkins@11.0.1, retriever=null})
      packer-build.pipeline(groovy.lang.Closure)
         packer-build.timeout({time=4, unit=HOURS})
         packer-build.echo(Executing on agent [docker:[alwaysPull:true, args:, containerPerStageRoot:false, label:Jenkins-Agent-Ubuntu2404-X64-M52xlarge-Docker-Builder, image:opensearchstaging/ci-runner:ubuntu2404-x64-docker-buildx0.9.1-qemu8.2-v1, reuseNode:false, registryUrl:https://public.ecr.aws/, stages:[:]]])
         packer-build.stage(Parameters Check, groovy.lang.Closure)
            packer-build.script(groovy.lang.Closure)
         packer-build.stage(packer-build, groovy.lang.Closure)
            packer-build.script(groovy.lang.Closure)
               packer-build.checkout({$class=GitSCM, branches=[{name=main}], userRemoteConfigs=[{url=https://github.com/opensearch-project/opensearch-ci}]})
               packer-build.readJSON({file=./packer/jenkins-agent-al2-arm64.json})
               packer-build.withSecrets({secrets=[{envVar=vpc_id, secretRef=op://opensearch-infra-secrets/packer-build-ids/jenkins-agent-vpc-id}, {envVar=subnet_id, secretRef=op://opensearch-infra-secrets/packer-build-ids/jenkins-agent-subnet-id}, {envVar=sg_id, secretRef=op://opensearch-infra-secrets/packer-build-ids/jenkins-agent-sg-id}]}, groovy.lang.Closure)
               packer-build.writeJSON({file=./packer/substitute_jenkins-agent-al2-arm64.json, json={variables={name-base=Jenkins-Agent-AL2-X64, os-version=AL2, build-region=us-east-1, build-vpc=vpc_id_123, build-subnet=subnet_id_123, build-secgrp=sg_id_123, build-time={{isotime "2006-01-02T03-04-05Z"}}, aws_ami_region=us-east-1}}, pretty=2})
               packer-build.withSecrets({secrets=[{envVar=AWS_ACCOUNT_PUBLIC, secretRef=op://opensearch-infra-secrets/aws-accounts/jenkins-aws-account-public}]}, groovy.lang.Closure)
                  packer-build.withAWS({role=opensearch-packer, roleAccount=aws_account_public_123, duration=3600, roleSessionName=jenkins-session, useNode=true}, groovy.lang.Closure)
                     packer-build.sh(cd packer && packer build -color=false substitute_jenkins-agent-al2-arm64.json)
         packer-build.script(groovy.lang.Closure)
            packer-build.postCleanup()
               postCleanup.cleanWs({disableDeferredWipeout=true, deleteDirs=true})
