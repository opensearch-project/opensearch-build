   smoke-test.run()
      smoke-test.modernSCM({$class=GitSCMSource, remote=https://github.com/opensearch-project/opensearch-build-libraries.git})
      smoke-test.library({identifier=jenkins@10.1.0, retriever=null})
      smoke-test.pipeline(groovy.lang.Closure)
         smoke-test.credentials(jenkins-artifact-bucket-name)
         smoke-test.timeout({time=2, unit=HOURS})
         smoke-test.echo(Executing on agent [label:none])
         smoke-test.stage(verify-parameters, groovy.lang.Closure)
            smoke-test.echo(Executing on agent [label:Jenkins-Agent-AL2023-X64-M54xlarge-Docker-Host])
            smoke-test.script(groovy.lang.Closure)
               smoke-test.fileExists(manifests/tests/jenkins/data/opensearch-2.19.0-test.yml)
               smoke-test.downloadBuildManifest({url=https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm/builds/opensearch/manifest.yml, path=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
                  downloadBuildManifest.legacySCM(groovy.lang.Closure)
                  downloadBuildManifest.library({identifier=jenkins@10.1.0, retriever=null})
                  downloadBuildManifest.isUnix()
                  downloadBuildManifest.sh(mkdir -p $(dirname "tests/jenkins/data/opensearch-2.19.0-build-rpm.yml"))
                  downloadBuildManifest.sh(touch tests/jenkins/data/opensearch-2.19.0-build-rpm.yml)
                  downloadBuildManifest.sh(curl -sSL --retry 5 https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm/builds/opensearch/manifest.yml --output tests/jenkins/data/opensearch-2.19.0-build-rpm.yml)
                  downloadBuildManifest.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
                  BuildManifest.asBoolean()
               smoke-test.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
               BuildManifest.asBoolean()
               BuildManifest.getArtifactArchitecture()
               BuildManifest.getArtifactBuildId()
               BuildManifest.getDistribution()
               BuildManifest.getArtifactRoot(dummy_job, 10691)
               smoke-test.detectTestDockerAgent({distribution=rpm, platform=linux})
                  detectTestDockerAgent.legacySCM(groovy.lang.Closure)
                  detectTestDockerAgent.library({identifier=jenkins@10.1.0, retriever=null})
                  detectTestDockerAgent.echo(Manifest: manifests/tests/jenkins/data/opensearch-2.19.0-test.yml, dist: rpm, plat: linux)
                  detectTestDockerAgent.readYaml({file=manifests/tests/jenkins/data/opensearch-2.19.0-test.yml})
                  TestManifest.asBoolean()
                  detectTestDockerAgent.echo(TestManifest SchemaVersion: 1.0)
                  detectTestDockerAgent.echo(Using Docker image opensearchstaging/ci-runner:ci-runner-al2-opensearch-build-v1, args: -e JAVA_HOME=/opt/java/openjdk-21, java version: openjdk-21)
               smoke-test.echo(Test Docker Image: opensearchstaging/ci-runner:ci-runner-al2-opensearch-build-v1, Args: -e JAVA_HOME=/opt/java/openjdk-21, JavaVersion: openjdk-21)
         smoke-test.postCleanup()
            postCleanup.cleanWs({disableDeferredWipeout=true, deleteDirs=true})
         smoke-test.timeout({time=1, unit=HOURS})
         smoke-test.stage(smoke-test, groovy.lang.Closure)
            smoke-test.echo(Executing on agent [docker:[alwaysPull:true, args:-e JAVA_HOME=/opt/java/openjdk-11, containerPerStageRoot:false, label:Jenkins-Agent-AL2-X64-C54xlarge-Docker-Host, image:opensearchstaging/ci-runner:ci-runner-centos7-v1, reuseNode:false, registryUrl:https://public.ecr.aws/, stages:[:]]])
            smoke-test.script(groovy.lang.Closure)
               smoke-test.echo(switch_user_non_root: true)
               smoke-test.checkout(groovy.lang.Closure)
               smoke-test.downloadBuildManifest({url=https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm/builds/opensearch/manifest.yml, path=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
                  downloadBuildManifest.legacySCM(groovy.lang.Closure)
                  downloadBuildManifest.library({identifier=jenkins@10.1.0, retriever=null})
                  downloadBuildManifest.isUnix()
                  downloadBuildManifest.sh(mkdir -p $(dirname "tests/jenkins/data/opensearch-2.19.0-build-rpm.yml"))
                  downloadBuildManifest.sh(touch tests/jenkins/data/opensearch-2.19.0-build-rpm.yml)
                  downloadBuildManifest.sh(curl -sSL --retry 5 https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm/builds/opensearch/manifest.yml --output tests/jenkins/data/opensearch-2.19.0-build-rpm.yml)
                  downloadBuildManifest.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
                  BuildManifest.asBoolean()
               smoke-test.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
               BuildManifest.asBoolean()
               smoke-test.readYaml({file=manifests/tests/jenkins/data/opensearch-2.19.0-test.yml})
               TestManifest.asBoolean()
               smoke-test.sh(rm -rf test-results)
               smoke-test.runSmokeTestScript({jobName=dummy_job, buildManifest=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml, testManifest=manifests/tests/jenkins/data/opensearch-2.19.0-test.yml, buildId=10691, switchUserNonRoot=true})
                  runSmokeTestScript.legacySCM(groovy.lang.Closure)
                  runSmokeTestScript.library({identifier=jenkins@10.1.0, retriever=null})
                  runSmokeTestScript.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
                  BuildManifest.asBoolean()
                  BuildManifest.getArtifactRootUrl(dummy_job, 10691)
                  runSmokeTestScript.echo(Artifact root URL: https://ci.opensearch.org/ci/dbc/dummy_job/2.19.0/10691/linux/arm64/rpm)
                  runSmokeTestScript.echo(Switch User to Non-Root (uid=1000): true)
                  runSmokeTestScript.echo(Paths: opensearch=https://ci.opensearch.org/ci/dbc/dummy_job/2.19.0/10691/linux/arm64/rpm)
                  runSmokeTestScript.sh(su `id -un 1000` -c " ./test.sh smoke-test manifests/tests/jenkins/data/opensearch-2.19.0-test.yml --test-run-id 234 --paths opensearch=https://ci.opensearch.org/ci/dbc/dummy_job/2.19.0/10691/linux/arm64/rpm ")
               smoke-test.echo(Completed running smoke tests.)
               smoke-test.uploadTestResults({buildManifestFileName=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml, jobName=dummy_job})
                  uploadTestResults.legacySCM(groovy.lang.Closure)
                  uploadTestResults.library({identifier=jenkins@10.1.0, retriever=null})
                  uploadTestResults.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
                  BuildManifest.asBoolean()
                  uploadTestResults.echo(Build Id: 10691)
                  BuildManifest.getArtifactRoot(dummy_job, 10691)
                  uploadTestResults.string({credentialsId=jenkins-artifact-bucket-name, variable=ARTIFACT_BUCKET_NAME})
                  uploadTestResults.string({credentialsId=jenkins-aws-account-public, variable=AWS_ACCOUNT_PUBLIC})
                  uploadTestResults.withCredentials([ARTIFACT_BUCKET_NAME, AWS_ACCOUNT_PUBLIC], groovy.lang.Closure)
                     uploadTestResults.echo(Uploading to s3://ARTIFACT_BUCKET_NAME/dummy_job/2.19.0/10691/linux/arm64/rpm)
                     uploadTestResults.withAWS({role=opensearch-test, roleAccount=AWS_ACCOUNT_PUBLIC, duration=900, roleSessionName=jenkins-session}, groovy.lang.Closure)
                        uploadTestResults.s3Upload({file=test-results, bucket=ARTIFACT_BUCKET_NAME, path=dummy_job/2.19.0/10691/linux/arm64/rpm/test-results})
                  BuildManifest.getArtifactRootUrl(DUMMY_PUBLIC_ARTIFACT_URL, dummy_job)
                  Messages.asBoolean()
                  Messages.add(DUMMY_STAGE_NAME, https://ci.opensearch.org/ci/dbc/DUMMY_PUBLIC_ARTIFACT_URL/2.19.0/dummy_job/linux/arm64/rpm/test-results/)
                     uploadTestResults.writeFile({file=messages/DUMMY_STAGE_NAME.msg, text=https://ci.opensearch.org/ci/dbc/DUMMY_PUBLIC_ARTIFACT_URL/2.19.0/dummy_job/linux/arm64/rpm/test-results/})
                     uploadTestResults.stash({includes=messages/*, name=messages-DUMMY_STAGE_NAME})
               smoke-test.postCleanup()
                  postCleanup.cleanWs({disableDeferredWipeout=true, deleteDirs=true})
         smoke-test.script(groovy.lang.Closure)
            smoke-test.checkout(groovy.lang.Closure)
            smoke-test.downloadBuildManifest({url=https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm/builds/opensearch/manifest.yml, path=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
               downloadBuildManifest.legacySCM(groovy.lang.Closure)
               downloadBuildManifest.library({identifier=jenkins@10.1.0, retriever=null})
               downloadBuildManifest.isUnix()
               downloadBuildManifest.sh(mkdir -p $(dirname "tests/jenkins/data/opensearch-2.19.0-build-rpm.yml"))
               downloadBuildManifest.sh(touch tests/jenkins/data/opensearch-2.19.0-build-rpm.yml)
               downloadBuildManifest.sh(curl -sSL --retry 5 https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm/builds/opensearch/manifest.yml --output tests/jenkins/data/opensearch-2.19.0-build-rpm.yml)
               downloadBuildManifest.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
               BuildManifest.asBoolean()
            smoke-test.createUploadTestReportManifest({testManifest=manifests/tests/jenkins/data/opensearch-2.19.0-test.yml, buildManifest=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml, testRunID=234, testType=smoke-test, rcNumber=0})
               createUploadTestReportManifest.legacySCM(groovy.lang.Closure)
               createUploadTestReportManifest.library({identifier=jenkins@10.1.0, retriever=null})
               createUploadTestReportManifest.readYaml({file=manifests/tests/jenkins/data/opensearch-2.19.0-test.yml})
               TestManifest.asBoolean()
               createUploadTestReportManifest.readYaml({file=tests/jenkins/data/opensearch-2.19.0-build-rpm.yml})
               BuildManifest.asBoolean()
               BuildManifest.getDistribution()
               createUploadTestReportManifest.echo(Start Reporting workflow for test type: rpm)
               BuildManifest.getArtifactRootUrl(distribution-build-opensearch, 10691)
               createUploadTestReportManifest.echo(Artifact root URL: https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm)
               createUploadTestReportManifest.echo(Paths: opensearch=https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm)
               createUploadTestReportManifest.echo(Base Path DUMMY_PUBLIC_ARTIFACT_URL/dummy_job/2.19.0/10691/linux/arm64/rpm)
               createUploadTestReportManifest.echo(Component: null)
               createUploadTestReportManifest.echo(Run command: ./report.sh manifests/tests/jenkins/data/opensearch-2.19.0-test.yml --artifact-paths opensearch=https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm --test-run-id 234 --test-type smoke-test --base-path DUMMY_PUBLIC_ARTIFACT_URL/dummy_job/2.19.0/10691/linux/arm64/rpm --release-candidate 0 )
               createUploadTestReportManifest.isUnix()
               createUploadTestReportManifest.sh(./report.sh manifests/tests/jenkins/data/opensearch-2.19.0-test.yml --artifact-paths opensearch=https://ci.opensearch.org/ci/dbc/distribution-build-opensearch/2.19.0/10691/linux/arm64/rpm --test-run-id 234 --test-type smoke-test --base-path DUMMY_PUBLIC_ARTIFACT_URL/dummy_job/2.19.0/10691/linux/arm64/rpm --release-candidate 0 )
               createUploadTestReportManifest.echo(Build Id: 10691)
               BuildManifest.getArtifactRoot(dummy_job, 10691)
               createUploadTestReportManifest.string({credentialsId=jenkins-artifact-bucket-name, variable=ARTIFACT_BUCKET_NAME})
               createUploadTestReportManifest.string({credentialsId=jenkins-aws-account-public, variable=AWS_ACCOUNT_PUBLIC})
               createUploadTestReportManifest.withCredentials([ARTIFACT_BUCKET_NAME, AWS_ACCOUNT_PUBLIC], groovy.lang.Closure)
                  createUploadTestReportManifest.echo(Uploading to s3://dummy_job/2.19.0/10691/linux/arm64/rpm/test-results/234/smoke-test/test-report.yml)
                  createUploadTestReportManifest.withAWS({role=opensearch-test, roleAccount=AWS_ACCOUNT_PUBLIC, duration=900, roleSessionName=jenkins-session}, groovy.lang.Closure)
                     createUploadTestReportManifest.s3Upload({file=/tmp/workspace/test-report.yml, bucket=ARTIFACT_BUCKET_NAME, path=dummy_job/2.19.0/10691/linux/arm64/rpm/test-results/234/smoke-test/test-report.yml})
            smoke-test.echo(Download report manifest from https://ci.opensearch.org/ci/dbc/smoke-test/2.19.0/10691/linux/arm64/rpm/test-results/234/smoke-test/test-report.yml)
            smoke-test.archiveArtifacts({artifacts=test-report.yml})
            smoke-test.publishSmokeTestResults({distributionBuildUrl=https://build.ci.opensearch.org/blue/organizations/jenkins/distribution-build-opensearch/detail/distribution-build-opensearch/10691/pipeline, jobName=dummy_job, testReportManifestYml=test-report.yml})
            smoke-test.postCleanup()
               postCleanup.cleanWs({disableDeferredWipeout=true, deleteDirs=true})
         smoke-test.node(Jenkins-Agent-AL2-X64-C54xlarge-Docker-Host, groovy.lang.Closure)
            smoke-test.script(groovy.lang.Closure)
               smoke-test.postCleanup()
                  postCleanup.cleanWs({disableDeferredWipeout=true, deleteDirs=true})
